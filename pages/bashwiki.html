<!DOCTYPE html>
<html>
<head>
<title>My wiki</title>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="css/main.css">
<link rel="stylesheet" href="css/railscasts.css">
<script src="js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
	<script type="text/javascript">
function showdiv(obj)
{
	var x = obj.parentNode;
	var y = x.nextSibling.nextSibling;
	y.style.display = "block";
	x.style.display = "none";
}
function hidediv(obj)
{
	var y = obj.parentNode.parentNode;
	var x = y.previousSibling.previousSibling;
	x.style.display = "block";
	y.style.display = "none";
}

function showandhide(obj)
{
	var y = obj.parentNode;
	var x = y.nextSibling.nextSibling;
	if(x.style.display == 'none' || x.style.display == '')
	{
		x.style.display = "block"; 
	}else{
		x.style.display = "none";
	}

}

</script>
</head>
<body>
<div class="header">
<h1>Bash Shell Wiki</h1>
</div>
<div class="content">
<h3> Special Variables</h3>
<p> There are some special variables in shell, Here is the most common variable</p>
<p></p>
<p>This two will be expanded to all positional parameters, by there are some difference:</p>
<div class="codes">
<pre> <code>
 $@  => "$1" "$2" "$3"
 $*  => "$1 $2 $3"
</code> </pre> </div>
<p>And you should notice the separated character, which decided by IFS</p>
<p></p>
<p>The next is the some useful parameters:</p>
<div class="codes">
<pre> <code>
 $# =>  number of positional parameter
 $$ =>  Expands to PID
 $_ =>  Expands to last argument of the last command
</code> </pre> </div>
<p class="showdetial"><a class="clicks" href="#" onclick="showdiv(this);return false;">show more detials</a></p>
<div class="moredetial">
<h4><a href="#" class="btn" onclick="showandhide(this);return false;">Associated Contents</a></h4>
<div class="hidecontent">
<p><b>How to access positonal paramter after $9?</b></p>
<p></p>
<p>There are three ways:</p>
<p> 1. use the ${10} to instead of $10</p>
<p> 2. use the shift keyword to move that</p>
<div class="codes">
<pre> <code>
getarg() {
	shift $1 && echo "$1"	
}

arg12="`getarg 12 "$@"`"
</code> </pre> </div>
<p>You should care about the usage of this function, most of that is the quotes.</p>
<p></p>
<p>use the Array</p>
<div class="codes">
<pre> <code>

for x in "${@:(-2)}"  => get the last 2 parameters 
for y in "${@:2}"     => staring at $2

</code> </pre> </div>
</div>
<h4><a href="#" class="btn" onclick="showandhide(this);return false;">Some References</a></h4>
<div class="hidecontent">
<p>Temperately nothing, waiting for complementing...</p>
</div>
<h4><a href="#" class="btn" onclick="showandhide(this);return false;">Some Idioms</a></h4>
<div class="hidecontent">
<p>You should always keep parameter expansions properly quoted</p>
</div>
<div class="btm">
 <a href="#" class="btn" onclick="hidediv(this);">Hide Detials</a>
</div>
</div>
<hr>
<h3>Process Substitution</h3>
<p>Allow you to pipe <b>stdout</b> of multiple commands, it can feeds theoutput of process into the stdin of another process</p>
<div class="codes">
<pre> <code>
 >(command_list)
 <(command_list)

Example:
  comm <(ls -l) <(ls -al)
  diff <(ls $dir1) <(ls $dir2)
</code> </pre> </div>
<p class="showdetial"><a class="clicks" href="#" onclick="showdiv(this);return false;">show more detials</a></p>
<div class="moredetial">
<h4><a href="#" class="btn" onclick="showandhide(this);return false;">Some References</a></h4>
<div class="hidecontent">
<p>
<a target="_blank" href="http://tldp.org/LDP/abs/html/process-sub.html">Advanced Bash Scripting Guide Chapter 23</a></p>
<p>
<a target="_blank" href="http://stackoverflow.com/a/164795">StackOverflow Answer of that</a></p>
</div>
<h4><a href="#" class="btn" onclick="showandhide(this);return false;">Associated Contents</a></h4>
<div class="hidecontent">
<p>Now you may want to figure out the <b>subshell</b> which is also so important and useful.</p>
<p>some times we need to distingush both of them too.</p>
<p>Also the Here string has the similar syntax. </p>
</div>
<div class="btm">
 <a href="#" class="btn" onclick="hidediv(this);">Hide Detials</a>
</div>
</div>
<hr>
<h3>Arithmetic Expression</h3>
<p>There are some ways to do arithmetic claculation in bash. Take a look:</p>
<div class="codes">
<pre> <code>
 i=$((j + 3))   <== arithmetic expansion, use the same syntax as C

 let a=17+23    <== arithmetic Commands
 let a=17 + 23  <== WRONG, should not do it
 let a=17 a+=32 <== Right

 ((a=$a+7))     <== right way
 ((a = a + 7))  <== also right

</code> </pre> </div>
<p class="showdetial"><a class="clicks" href="#" onclick="showdiv(this);return false;">show more detials</a></p>
<div class="moredetial">
<h4><a href="#" class="btn" onclick="showandhide(this);return false;">Associated Contents</a></h4>
<div class="hidecontent">
<p>1.let</p>
<p>We should know that, if the expression evaluates to 0, the command is considered "false" and return 1.Otherwise, the command is considered "true" and return 0</p>
<p></p>
<p>2.(())</p>
<p>This is used more widely than let, because it fits so well into an <b>if</b> or <b>while</b> command.</p>
<p>Here are some example</p>
<div class="codes">
<pre> <code>
if ((1)); then echo true; fi <== true

Notice: if using set -e you may be unpleaseantly surprised when your program
		abort because you assigned 0 to a number
</code> </pre> </div>
<p>3.Math Contexts</p>
<p> arithmetic also can used in <b>echo "${string:i+2:len-1}"</b></p>
<p><b>4.Leading zero and bash selection</b></p>
<div class="codes">
<pre> <code>
month=$(date +%m)
next_month=$(( (month == 12)? 1 : month+1 ))
<h1>bash: 09:value to great for base</h1>
</div>
<div class="content">
</code> </pre> </div>
<p>It treate 09 as an octet value. so there are some way to remove the leading zero</p>
<div class="codes">
<pre> <code>
way1:
  while [[ $a = 0* ]]; do a=${a#0}; done

way2:
  shopt -s extglob
  a=$(a##+(0))

way3:
  month=$(date +%m)
  month=$((10#$month))

way4:
  a=008
  let b=10#$a+1 
</code> </pre> </div>
</div>
<h4><a href="#" class="btn" onclick="showandhide(this);return false;">Some Idioms</a></h4>
<div class="hidecontent">
<p>Here is a function to convert number in other base to base 10</p>
<div class="codes">
<pre> <code>
frombase(){
	echo "$(( $1#$2 ))"	
}

<h1>usage</h1>
</div>
<div class="content">
frombase 16 ffe     <== 4094
frombase 2  100100  <== 36
</code> </pre> </div>
</div>
<div class="btm">
 <a href="#" class="btn" onclick="hidediv(this);">Hide Detials</a>
</div>
</div>
</div>
</body>
</html>
